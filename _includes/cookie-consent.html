{% comment %}
https://jekyllcodex.org/without-plugin/cookie-consent/
{% endcomment %}

<style>
  #cookie-notice,
  #cookie-notice-alert-accepted,
  #cookie-notice-alert-rejected,
  #cookie-notice-alert-none {
    display: none
  }
</style>

<div id="cookie-notice" class="fixed-bottom bg-dark p-3 text-white text-center">Wir möchten Cookies und Skripte von Dritten verwenden, um die Funktionalität dieser Website zu verbessern.

  <div class="row my-2">
    <!-- <div class="col-12 col-md-4 offset-md-2 col-lg-3 offset-lg-3 text-center my-1">
      <a href="#" id="cookie-notice-accept" class="btn btn-secondary btn-sm btn-block">Zulassen</a>
      <a href="#" id="cookie-notice-rejected" class="btn btn-outline-secondary btn-sm btn-block">Ablehnen</a>
    </div>
    <div class="col-12 col-md-4 col-lg-3 text-center my-1">
      <a href="/datenschutz" class="btn btn-outline-light btn-sm btn-block d m x-2">Informationen zum Datenschutz</a>
    </div> -->
    <div class="col-12 col-md-4 offset-md-2 col-lg-3 offset-lg-3 text-center my-1">
      <div class="d-grid gap-2">
        <a href="#" id="cookie-notice-accept" class="btn btn-secondary btn-sm ">Zulassen</a>
        <a href="#" id="cookie-notice-rejected" class="btn btn-outline-secondary btn-sm">Ablehnen</a>
      </div>
    </div>
    <div class="col-12 col-md-4 col-lg-3 text-center my-1">
      <div class="d-grid gap-2">
        <a href="/datenschutz" class="btn btn-outline-light btn-sm x-2">Informationen zum Datenschutz</a>
      </div>
    </div>
  </div>
</div>
<script>
  function createCookie(name, value, days) {
    var expires = "";
    if (days) {
      var date = new Date();
      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
      expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + value + expires + "; path=/";
  }

  function readCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) == ' ') c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
  }

  function eraseCookie(name) {
    createCookie(name, "", -1);
  }

  if (readCookie('cookie-notice-dismissed') == 'true') {
    // Cookie mit dem Wert TRUE vorhanden – Cookies aktzeptiert/erlaubt
    // Cookies nach Bestätigung/die erlaubt sind hier einfügen
  } else if (readCookie('cookie-notice-dismissed') == 'false') {
    // Cookie mit dem Wert FALSE vorhanden – Cookie-Abfrage ausblenden
    document.getElementById('cookie-notice').style.display = 'none';
    }
    else {
      // Kein Cookie vorhanden – Cookie-Abfrage einblenden
      document.getElementById('cookie-notice').style.display = 'block';
    }
    document.getElementById('cookie-notice-accept').addEventListener("click", function() {
      // Klick auf ABGELEHNT und Cookie mit Wert FALSE erstellen
      createCookie('cookie-notice-dismissed', 'true', 31);
      document.getElementById('cookie-notice').style.display = 'none';
      location.reload();
    });
    document.getElementById('cookie-notice-rejected').addEventListener("click", function() {
      // Klick auf ZULASSEN und Cookie mit Wert TRUE erstellen
        createCookie('cookie-notice-dismissed', 'false', 31);
        document.getElementById('cookie-notice').style.display = 'none';
        location.reload();
    });
</script>
